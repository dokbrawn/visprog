## Лабораторная работа 9. Backend-сервер на CXX.

### Анисимов Тимур, ИКС-431

Сервер и приложение соответствуют следующему заданию:





    Скоректировать backend-сервер в сторону работы на базе языка C++. Пример работы C++ и ZMQ.

    Реализовать передачу данных о местоположении смартфона (см. Задание №6) на CXX-сервер. Сервер должен:

        При получении данных от смартфона сохранять их в файл .json;

        Работа ZMQ-сокетов должна выполняться в отдельном (от int main()) потоке (thread). Простой пример;

        Приложение (Android) должно автоматически переподключаться к серверной части, в случае разрыва соединения (при помощи try и проверки на разрыв соединения);

    Реализовать графический интерфейс (ImGUI или Qt5\6), в котором (Здесь начинается ТВОРЧЕСТВО):

        Релизовать виджет (окно) с информацией о местоположении (которую мы получили в пункте 2.). В виде текстовой информации;

        Информация должна обновляться каждый раз, когда данные принимаются от Android-приложения;

        Обернуть реализацию визуального интерфейса в отдельный поток (см. по аналогии с пунктом 2.2).

    Связь между двумя потоками (пункты 2.2 и 3.3) осуществляется при помощи одной общей структуры (или класса), например:

struct location
{
    float latitude;
    float longitude;
    float altitude;
    // и т.д.
};

void run_gui(locaiton *loc){
    // здесь работает GUI поток
    // Выводит данные из ГЛОБАЛЬНОЙ структуры location
}

void run_server(locaiton *loc){
    // Здесь работает поток серверный
    // Записывает данные в ГЛОБАЛЬНУЮ структуру location
}

int main(){
    static location locationInfo;

    std::thread gui_thread(run_gui, &locationInfo);
    std::thread server_thread(run_server, &locationInfo);

    gui_thread.join();
    server_thread.join();

    return 0;
}

﻿
